{"version":3,"sources":["../../src/intercom/model.js"],"names":["transformResponse","schema","title","type","String","required","errors","completed","Boolean","default","order","Number","cleanUpIntercomObject","intercom","baseUrl","hasOwnProperty","position","Object","entries","key","value","undefined","url","id","result","map","obj"],"mappings":";;;;;;;;kBAmCwBA,iB;AAnCjB,IAAMC,0BAAS;AACpBC,SAAO;AACLC,UAAMC,MADD;AAELC,cAAU,IAFL;AAGLC,YAAQ;AACNH,YAAM,yBADA;AAENE,gBAAU;AAFJ;AAHH,GADa;AASpBE,aAAW;AACTJ,UAAMK,OADG;AAETH,cAAU,KAFD;AAGTI,aAAS;AAHA,GATS;AAcpBC,SAAO;AACLP,UAAMQ,MADD;AAELN,cAAU;AAFL;AAda,CAAf;;AAoBP,SAASO,qBAAT,CAA+BC,QAA/B,EAAyCC,OAAzC,EAAkD;AAChD,MAAID,SAASE,cAAT,CAAwB,UAAxB,CAAJ,EAAyC;AACvCF,aAASH,KAAT,GAAiBG,SAASG,QAA1B;AACA,WAAOH,SAASG,QAAhB;AACD;;AAJ+C;AAAA;AAAA;;AAAA;AAMhD,yBAAyBC,OAAOC,OAAP,CAAeL,QAAf,CAAzB,8HAAmD;AAAA;AAAA,UAAzCM,GAAyC;AAAA,UAApCC,KAAoC;;AACjD,UAAIA,UAAU,IAAV,IAAkBA,UAAUC,SAAhC,EAA2C,OAAOR,SAASM,GAAT,CAAP;AAC5C;AAR+C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAUhDN,WAASS,GAAT,GAAkBR,OAAlB,kBAAsCD,SAASU,EAA/C;;AAEA,SAAOV,QAAP;AACD;;AAEc,SAASb,iBAAT,CAA2BwB,MAA3B,EAAmC;AAChD,MAAIA,OAAOX,QAAX,EAAqB;AACnBW,aAASA,OAAOX,QAAP,CAAgBY,GAAhB,CAAoB,UAACC,GAAD;AAAA,aAASd,sBAAsBc,GAAtB,EAA2BF,OAAOV,OAAlC,CAAT;AAAA,KAApB,CAAT;AACD;;AAED,MAAIU,OAAOX,QAAX,EAAqB;AACnBW,aAASZ,sBAAsBY,OAAOX,QAA7B,EAAuCW,OAAOV,OAA9C,CAAT;AACD;;AAED,SAAOU,MAAP;AACD","file":"model.js","sourcesContent":["export const schema = {\n  title: {\n    type: String,\n    required: true,\n    errors: {\n      type: 'Title must be a string.',\n      required: 'Title is required.'\n    }\n  },\n  completed: {\n    type: Boolean,\n    required: false,\n    default: false\n  },\n  order: {\n    type: Number,\n    required: false\n  }\n};\n\nfunction cleanUpIntercomObject(intercom, baseUrl) {\n  if (intercom.hasOwnProperty('position')) {\n    intercom.order = intercom.position;\n    delete intercom.position;\n  }\n\n  for (var [key, value] of Object.entries(intercom)) {\n    if (value === null || value === undefined) delete intercom[key];\n  }\n\n  intercom.url = `${baseUrl}/intercom/${intercom.id}`;\n\n  return intercom;\n}\n\nexport default function transformResponse(result) {\n  if (result.intercom) {\n    result = result.intercom.map((obj) => cleanUpIntercomObject(obj, result.baseUrl));\n  }\n\n  if (result.intercom) {\n    result = cleanUpIntercomObject(result.intercom, result.baseUrl);\n  }\n\n  return result;\n}\n"]}